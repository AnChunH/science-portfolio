<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç§‘å­¸è¬›åº§èˆ‡å­¸ç¿’æ­·ç¨‹æª”æ¡ˆè£½ä½œæŒ‡å—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f5f5f4; /* stone-100 */
            color: #292524; /* stone-800 */
        }
        .tab-active {
            background-color: #0284c7; /* sky-600 */
            color: white;
            border-bottom-width: 2px;
            border-color: #0369a1; /* sky-700 */
        }
        .tab-inactive {
            background-color: #e7e5e4; /* stone-200 */
            color: #57534e; /* stone-600 */
        }
        .content-section {
            background-color: white;
            border-radius: 0.5rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .category-button-active {
            background-color: #0ea5e9; /* sky-500 */
            color: white;
        }
        .category-button-inactive {
            background-color: #f0f9ff; /* sky-50 */
            color: #0369a1; /* sky-700 */
        }
        .video-link {
            color: #0284c7; /* sky-600 */
            text-decoration: underline;
        }
        .video-link:hover {
            color: #0369a1; /* sky-700 */
        }
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f5f5f4; /* stone-100 */
        }
        ::-webkit-scrollbar-thumb {
            background: #a8a29e; /* stone-400 */
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #78716c; /* stone-500 */
        }
        .llm-output {
            background-color: #f0f9ff; /* sky-50 */
            border-left: 4px solid #0ea5e9; /* sky-500 */
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 0.25rem;
            color: #0369a1; /* sky-700 */
            font-size: 0.95rem;
            white-space: pre-wrap; /* Preserve whitespace and line breaks */
        }
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #0ea5e9;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @media print {
            body * {
                visibility: hidden;
            }
            .printable-section, .printable-section * {
                visibility: visible;
            }
            .printable-section {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                padding: 0;
                box-shadow: none;
                background-color: white;
            }
            .no-print {
                display: none !important;
            }
        }
    </style>
</head>
<body class="min-h-screen">

    <header class="bg-sky-700 text-white py-6 shadow-md no-print">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-3xl md:text-4xl font-bold">ğŸ’¡ ç§‘å­¸è¬›åº§èˆ‡å­¸ç¿’æ­·ç¨‹æª”æ¡ˆè£½ä½œæŒ‡å— ğŸš€</h1>
        </div>
    </header>

    <nav class="bg-stone-50 shadow-sm sticky top-0 z-50 no-print">
        <div class="container mx-auto px-4">
            <div class="flex justify-center space-x-2 sm:space-x-4 py-3">
                <button id="tab-home" class="tab-active px-4 py-2 rounded-t-lg font-semibold text-sm sm:text-base focus:outline-none transition-colors duration-300">ğŸ  é¦–é </button>
                <button id="tab-explore" class="tab-inactive px-4 py-2 rounded-t-lg font-semibold text-sm sm:text-base focus:outline-none transition-colors duration-300">ğŸ§­ è¬›åº§æ¢ç´¢</button>
                <button id="tab-guide" class="tab-inactive px-4 py-2 rounded-t-lg font-semibold text-sm sm:text-base focus:outline-none transition-colors duration-300">ğŸ“ è£½ä½œæŒ‡å—</button>
            </div>
        </div>
    </nav>

    <main class="container mx-auto px-4 py-8">
        <section id="content-home" class="content-section printable-section">
            <div class="flex justify-end mb-4 no-print">
                <button onclick="printSection('content-home')" class="bg-stone-200 text-stone-700 px-4 py-2 rounded-lg text-sm hover:bg-stone-300 transition-colors duration-300 shadow-sm flex items-center">
                    <span class="mr-2">ğŸ–¨ï¸</span> åˆ—å°æ­¤å€å¡Š
                </button>
            </div>
            <h2 class="text-2xl font-bold text-sky-700 mb-6 text-center">æ­¡è¿ä¾†åˆ°å­¸ç¿’æ­·ç¨‹æª”æ¡ˆè£½ä½œæŒ‡å—ï¼</h2>
            <p class="text-lg mb-4 leading-relaxed">
                è¦ªæ„›çš„åŒå­¸å€‘ï¼Œåœ¨é‚å‘å¤§å­¸çš„æ—…ç¨‹ä¸­ï¼Œä¸€ä»½ç²¾å¿ƒè£½ä½œçš„å­¸ç¿’æ­·ç¨‹æª”æ¡ˆï¼Œæ˜¯å±•ç¾ä½ ç¨ç‰¹å…‰èŠ’ã€å­¸ç¿’ç†±æƒ…èˆ‡ç„¡é™æ½›åŠ›çš„æœ€ä½³èˆå°ï¼é€éç©æ¥µåƒèˆ‡ç§‘å­¸è¬›åº§ï¼Œä¸¦å°‡æ‰€å­¸è½‰åŒ–ç‚ºæ·±åˆ»çš„åæ€èˆ‡è¨˜éŒ„ï¼Œä½ ä¸åƒ…èƒ½æ·±åŒ–å°ˆæ¥­çŸ¥è­˜ï¼Œæ›´èƒ½åŸ¹é¤Šç¨ç«‹æ€è€ƒã€ä¸»å‹•æ¢ç´¢çš„é—œéµèƒ½åŠ›ã€‚
            </p>
            <p class="text-lg mb-6 leading-relaxed">
                é€™ä»½æŒ‡å—å°‡çµåˆ Collego çš„ **18 å­¸ç¾¤åˆ†é¡**ï¼Œç‚ºä½ ç²¾é¸æ¨è–¦çš„ç§‘å­¸è¬›åº§ä¸»é¡Œï¼Œä¸¦æ‰‹æŠŠæ‰‹å¼•å°ä½ å¦‚ä½•å°‡é€™äº›å¯¶è²´ç¶“é©—ï¼Œè½‰åŒ–ç‚ºä¸€ä»½ä»½ä»¤äººé©šè±”çš„å­¸ç¿’æ­·ç¨‹æª”æ¡ˆã€‚è®“æˆ‘å€‘ä¸€èµ·ï¼Œé»äº®ä½ çš„å­¸ç¿’ä¹‹è·¯ï¼âœ¨
            </p>
            <div class="bg-sky-50 p-6 rounded-lg border border-sky-200">
                <h3 class="text-xl font-semibold text-sky-700 mb-3">ğŸ¤” ç‚ºä»€éº¼è¦åƒèˆ‡ç§‘å­¸è¬›åº§ï¼Ÿ</h3>
                <ul class="list-disc list-inside space-y-2 text-stone-700">
                    <li>**ğŸ” æ¢ç´¢èˆˆè¶£ï¼š** ææ—©æ¥è§¸ä¸åŒå­¸ç¾¤èˆ‡ç§‘ç³»çš„çœŸå¯¦é¢è²Œï¼Œæ‰¾åˆ°ä½ çœŸæ­£ç†±æ„›çš„å­¸è¡“é ˜åŸŸã€‚</li>
                    <li>**ğŸ§  æ·±åŒ–çŸ¥è­˜ï¼š** é€éé ˜åŸŸå°ˆå®¶çš„åˆ†äº«ï¼Œäº†è§£èª²æœ¬ä»¥å¤–çš„æœ€æ–°ç ”ç©¶èˆ‡æ‡‰ç”¨è¶¨å‹¢ï¼Œæ‹“å±•ä½ çš„çŸ¥è­˜é‚Šç•Œã€‚</li>
                    <li>**ğŸ’¡ åŸ¹é¤Šç´ é¤Šï¼š** è¨“ç·´ä½ çš„æ‰¹åˆ¤æ€§æ€ç¶­ã€å•é¡Œè§£æ±ºèƒ½åŠ›ï¼Œä¸¦æ¿€ç™¼å°ç§‘å­¸æ°¸ä¸ç†„æ»…çš„å¥½å¥‡å¿ƒèˆ‡ç†±æƒ…ã€‚</li>
                    <li>**ğŸŒŸ è±å¯Œæ­·ç¨‹ï¼š** ç‚ºä½ çš„å­¸ç¿’æ­·ç¨‹æª”æ¡ˆæä¾›ç¨ç‰¹ä¸”å…·èªªæœåŠ›çš„ç´ æï¼Œå±•ç¾ä½ çš„å­¸ç¿’å»£åº¦èˆ‡æ·±åº¦ã€‚</li>
                </ul>
            </div>
        </section>

        <section id="content-explore" class="content-section printable-section hidden">
            <div class="flex justify-end mb-4 no-print">
                <button onclick="printSection('content-explore')" class="bg-stone-200 text-stone-700 px-4 py-2 rounded-lg text-sm hover:bg-stone-300 transition-colors duration-300 shadow-sm flex items-center">
                    <span class="mr-2">ğŸ–¨ï¸</span> åˆ—å°æ­¤å€å¡Š
                </button>
            </div>
            <h2 class="text-2xl font-bold text-sky-700 mb-6 text-center">ğŸ¯ å¦‚ä½•é¸æ“‡é©åˆä½ çš„ç§‘å­¸è¬›åº§ï¼Ÿ</h2>
            <p class="text-lg mb-6 text-center leading-relaxed">
                ä½ å¯ä»¥æ ¹æ“š Collego 18 å­¸ç¾¤çš„åˆ†é¡ï¼Œæ­é…ä½ çš„å€‹äººèˆˆè¶£èˆ‡æœªä¾†å¿—å‘ä¾†é¸æ“‡ã€‚ä»¥ä¸‹æˆ‘å€‘ç²¾é¸äº†ä¸‰å€‹ç†±é–€å­¸ç¾¤çš„è¬›åº§ä¸»é¡Œä½œç‚ºç¯„ä¾‹ï¼Œä¸¦è²¼å¿ƒé™„ä¸Šç›¸é—œçš„ç·šä¸Šå½±ç‰‡è³‡æºï¼Œè®“ä½ éš¨æ™‚éš¨åœ°éƒ½èƒ½æ¢ç´¢ç§‘å­¸çš„å¥§ç§˜ï¼
            </p>
            <div class="flex flex-wrap justify-center gap-3 mb-8 no-print">
                <button data-category="ai" class="category-button-active px-6 py-3 rounded-lg font-semibold shadow-md hover:shadow-lg transition-all duration-300 focus:outline-none text-sm sm:text-base">ğŸ¤– äººå·¥æ™ºæ…§èˆ‡æ•¸æ“šç§‘å­¸</button>
                <button data-category="biomedical" class="category-button-inactive px-6 py-3 rounded-lg font-semibold shadow-md hover:shadow-lg transition-all duration-300 focus:outline-none text-sm sm:text-base">ğŸ§¬ ç”Ÿç‰©é†«å­¸èˆ‡å¥åº·ç§‘å­¸</button>
                <button data-category="engineering" class="category-button-inactive px-6 py-3 rounded-lg font-semibold shadow-md hover:shadow-lg transition-all duration-300 focus:outline-none text-sm sm:text-base">ğŸ› ï¸ å·¥ç¨‹èˆ‡ææ–™ç§‘å­¸</button>
            </div>

            <div id="lecture-details" class="mt-6 p-6 bg-stone-50 rounded-lg border border-stone-200 min-h-[300px]">
                </div>
            <p class="mt-4 text-sm text-stone-600 text-center italic no-print">
                ğŸ’¡ è§€çœ‹è¬›åº§æˆ–ç”Ÿæˆæ‘˜è¦/æ¸¬é©—æ™‚ï¼Œä¸å¦¨æ‹¿èµ·ç´™ç­†ï¼Œéš¨æ‰‹è¨˜éŒ„ä¸‹ä½ çš„å¿ƒå¾—ã€ç–‘å•æˆ–é—œéµå­—ï¼Œè®“å­¸ç¿’æ›´æ·±å…¥ï¼
            </p>
        </section>

        <section id="content-guide" class="content-section printable-section hidden">
            <div class="flex justify-end mb-4 no-print">
                <button onclick="printSection('content-guide')" class="bg-stone-200 text-stone-700 px-4 py-2 rounded-lg text-sm hover:bg-stone-300 transition-colors duration-300 shadow-sm flex items-center">
                    <span class="mr-2">ğŸ–¨ï¸</span> åˆ—å°æ­¤å€å¡Š
                </button>
            </div>
            <h2 class="text-2xl font-bold text-sky-700 mb-6 text-center">âœ¨ å­¸ç¿’æ­·ç¨‹æª”æ¡ˆè£½ä½œé—œéµï¼šå±•ç¾ä½ çš„å­¸ç¿’æ·±åº¦èˆ‡ç¨ç‰¹æ€§ âœ¨</h2>
            <p class="text-lg mb-6 text-center leading-relaxed">
                åƒèˆ‡è¬›åº§åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œå°‡æ‰€å­¸è½‰åŒ–ç‚º**æœ‰æ„ç¾©çš„å­¸ç¿’æ­·ç¨‹æª”æ¡ˆ**æ‰æ˜¯é—œéµï¼è«‹**å‹™å¿…é¿å…æµæ°´å¸³å¼çš„è¨˜éŒ„**ï¼Œè€Œæ˜¯è‘—é‡å±•ç¾ä½ çš„**å€‹äººæ€è€ƒã€å­¸ç¿’è½‰è®Šèˆ‡æˆé•·**ã€‚
            </p>
            
            <div class="space-y-6">
                <div class="p-4 bg-sky-50 rounded-lg border border-sky-200">
                    <h3 class="text-xl font-semibold text-sky-700 mb-2">ğŸ“ 1. å‹•æ©Ÿèˆ‡ç›®çš„ï¼š</h3>
                    <ul class="list-disc list-inside space-y-1 text-stone-700">
                        <li>ä½ ç‚ºä»€éº¼é¸æ“‡é€™å€‹è¬›åº§ï¼Ÿæ˜¯ä»€éº¼å…§å®¹æ·±æ·±å¸å¼•äº†ä½ ï¼Ÿ</li>
                        <li>ä½ å¸Œæœ›å¾ä¸­ç²å¾—ä»€éº¼ï¼Ÿé€™å€‹è¬›åº§å¦‚ä½•èˆ‡ä½ çš„èˆˆè¶£æˆ–æœªä¾†ç›®æ¨™ç·Šå¯†é€£çµï¼Ÿ</li>
                    </ul>
                </div>

                <div class="p-4 bg-sky-50 rounded-lg border border-sky-200">
                    <h3 class="text-xl font-semibold text-sky-700 mb-2">ğŸ“ 2. å…§å®¹æ‘˜è¦èˆ‡å¿ƒå¾—åæ€ï¼š</h3>
                    <ul class="list-disc list-inside space-y-1 text-stone-700">
                        <li>**è¬›åº§å…§å®¹ï¼š** ç°¡è¦æ¦‚è¿°è¬›åº§é‡é»ï¼Œç‰¹åˆ¥æ˜¯ä½ å°è±¡æœ€æ·±åˆ»ã€å°ä½ å•Ÿç™¼æœ€å¤§çš„éƒ¨åˆ†ã€‚</li>
                        <li>**åæ€èˆ‡å•Ÿç™¼ (æœ€é‡è¦ï¼)ï¼š**
                            <ul class="list-circle list-inside ml-4 space-y-1">
                                <li>ä½ å¾ä¸­å­¸åˆ°äº†ä»€éº¼ï¼Ÿï¼ˆçŸ¥è­˜ã€æŠ€èƒ½ã€è§€å¿µã€åƒ¹å€¼è§€ç­‰ï¼‰</li>
                                <li>é€™å€‹è¬›åº§æ˜¯å¦ç”¢ç”Ÿäº†æ–°çš„ç–‘å•ï¼Œæˆ–è®“ä½ å°åŸæœ‰èªçŸ¥ç”¢ç”ŸæŒ‘æˆ°ï¼Ÿ</li>
                                <li>ä½ çš„è§€é»æ˜¯å¦æœ‰ä»»ä½•æ”¹è®Šï¼Ÿï¼ˆä¾‹å¦‚ï¼šå° AI å€«ç†ã€æ•¸æ“šéš±ç§çš„æ€è€ƒï¼Œæˆ–å°ç”¢æ¥­ç™¼å±•çš„æƒ³åƒï¼‰</li>
                                <li>é€™å€‹è¬›åº§å¦‚ä½•å½±éŸ¿ä½ å°è©²å­¸ç¾¤/ç§‘ç³»çš„èªè­˜ï¼Œä»¥åŠä½ æœªä¾†çš„å­¸ç¿’æˆ–è·æ¶¯è¦åŠƒï¼Ÿ</li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="p-4 bg-sky-50 rounded-lg border border-sky-200">
                    <h3 class="text-xl font-semibold text-sky-700 mb-2">ğŸ“ 3. èƒ½åŠ›å±•ç¾ï¼š</h3>
                    <ul class="list-disc list-inside space-y-1 text-stone-700">
                        <li>**è§£æ±ºå•é¡Œèƒ½åŠ›ï¼š** åœ¨è¬›åº§å¾Œï¼Œä½ æ˜¯å¦é‡å°è¬›åº§å…§å®¹æå‡ºäº†è‡ªå·±çš„ç–‘å•ï¼Œæˆ–æ€è€ƒå¯èƒ½çš„è§£æ±ºæ–¹æ¡ˆï¼Ÿ</li>
                        <li>**é‚è¼¯æ€ç¶­èˆ‡æ‰¹åˆ¤æ€§æ€è€ƒï¼š** å±•ç¾ä½ å°è¬›åº§å…§å®¹çš„åˆ†æã€æ­¸ç´èˆ‡æ‰¹åˆ¤æ€§æ€è€ƒèƒ½åŠ›ã€‚</li>
                        <li>**å­¸ç¿’èˆ‡å‰µæ–°ï¼š** æ˜¯å¦æœ‰å»¶ä¼¸çš„å­¸ç¿’æˆ–å¯¦ä½œï¼Ÿï¼ˆä¾‹å¦‚ï¼šé–±è®€ç›¸é—œæ›¸ç±ã€åƒèˆ‡ç¤¾åœ˜æ´»å‹•ã€å˜—è©¦ç¨‹å¼ç·¨å¯«ã€è£½ä½œæ¨¡å‹ç­‰ï¼‰è«‹**å‹™å¿…é™„ä¸Šå…·é«”äº‹è­‰**ï¼ˆå¦‚ç…§ç‰‡ã€å½±ç‰‡ã€ä½œå“é€£çµã€å ±å‘Šæˆªåœ–ç­‰ï¼‰ï¼Œè®“ä½ çš„åŠªåŠ›è¢«çœ‹è¦‹ï¼</li>
                        <li>**è·¨é ˜åŸŸé€£çµï¼š** å˜—è©¦å°‡è¬›åº§å…§å®¹èˆ‡ä½ çš„å…¶ä»–å­¸ç§‘çŸ¥è­˜ã€å€‹äººèˆˆè¶£æˆ–é«˜ä¸­èª²ç¨‹é€£çµï¼Œå±•ç¾ä½ å…·å‚™**è·¨é ˜åŸŸå­¸ç¿’çš„æ½›åŠ›**ã€‚</li>
                    </ul>
                </div>

                <div class="p-4 bg-sky-50 rounded-lg border border-sky-200">
                    <h3 class="text-xl font-semibold text-sky-700 mb-2">ğŸ“ 4. æœªä¾†å±•æœ›èˆ‡è¡Œå‹•è¨ˆç•«ï¼š</h3>
                    <ul class="list-disc list-inside space-y-1 text-stone-700">
                        <li>é€™æ¬¡ç¶“é©—å¦‚ä½•åŠ æ·±ä½ å°è©²é ˜åŸŸçš„èªè­˜ï¼Ÿ</li>
                        <li>æœªä¾†ä½ é‚„æƒ³åšä»€éº¼ï¼Ÿæœƒæ¡å–å“ªäº›å…·é«”è¡Œå‹•ä¾†æ·±åŒ–å­¸ç¿’ï¼Ÿï¼ˆä¾‹å¦‚ï¼šåƒèˆ‡ç›¸é—œç«¶è³½ã€æ·±å…¥ç ”ç©¶ç‰¹å®šä¸»é¡Œã€å°‹æ‰¾å¯¦ç¿’æ©Ÿæœƒç­‰ï¼‰</li>
                    </ul>
                </div>

                <div class="p-4 bg-sky-50 rounded-lg border border-sky-200">
                    <h3 class="text-xl font-semibold text-sky-700 mb-2">ğŸ¨ å­¸ç¿’æ­·ç¨‹æª”æ¡ˆçš„å¤šå…ƒå‘ˆç¾æ–¹å¼ï¼š</h3>
                     <ul class="list-disc list-inside space-y-1 text-stone-700">
                        <li>é™¤äº†å–®ç´”çš„æ–‡å­—æ•˜è¿°ï¼Œä½ ä¹Ÿå¯ä»¥é€éä»¥ä¸‹æ–¹å¼è®“ä½ çš„å­¸ç¿’æ­·ç¨‹æª”æ¡ˆæ›´ç”Ÿå‹•ã€æ›´å…·å¸å¼•åŠ›ï¼š</li>
                        <li>**åœ–è¡¨èˆ‡å¿ƒæ™ºåœ–ï¼š** å°‡è¬›åº§ä¸­çš„é‡é»æˆ–æ€è€ƒè„ˆçµ¡æ•´ç†æˆè¦–è¦ºåŒ–çš„åœ–è¡¨æˆ–å¿ƒæ™ºåœ–ï¼Œå±•ç¾ä½ çš„æ­¸ç´èˆ‡çµ„ç¹”èƒ½åŠ›ã€‚</li>
                        <li>**å¤šåª’é«”å½±éŸ³ï¼š** å¦‚æœè¬›åº§å…è¨±ï¼Œå¯ä»¥å°‡ç¾å ´éŒ„å½±æˆ–ä½ è‡ªè¡Œè£½ä½œçš„ç›¸é—œç´€éŒ„å½±ç‰‡å‰ªè¼¯ä¸Šå‚³ã€‚</li>
                        <li>**å¯¦éš›ä½œå“ï¼š** å¦‚æœè¬›åº§æ¿€ç™¼ä½ å®Œæˆç›¸é—œçš„å¯¦ä½œï¼Œå‹™å¿…é™„ä¸Šä½œå“ç…§ç‰‡æˆ–å½±ç‰‡ï¼Œè®“ä½ çš„å‰µæ„èˆ‡åŸ·è¡ŒåŠ›ä¸€è¦½ç„¡éºã€‚</li>
                    </ul>
                </div>

                <div class="p-4 bg-sky-100 rounded-lg border border-sky-300">
                    <h3 class="text-xl font-semibold text-sky-800 mb-3">âœ¨ å­¸ç¿’æ­·ç¨‹æª”æ¡ˆå¯«ä½œè¼”åŠ© âœ¨</h3>
                    <p class="text-stone-700 mb-4">
                        è«‹è¼¸å…¥ä½ çš„è¬›åº§å¿ƒå¾—ã€æƒ³æ’°å¯«çš„ä¸»é¡Œï¼Œæˆ–ä»»ä½•èˆ‡å­¸ç¿’æ­·ç¨‹ç›¸é—œçš„åˆæ­¥æƒ³æ³•ï¼Œè®“ AI åŠ©ä½ ä¸€è‡‚ä¹‹åŠ›ï¼
                    </p>
                    <textarea id="portfolio-input" class="w-full p-3 border border-stone-300 rounded-md focus:ring-2 focus:ring-sky-500 focus:border-transparent resize-y min-h-[100px] text-stone-800" placeholder="ä¾‹å¦‚ï¼šæˆ‘è½äº†ã€Œæ™ºæ…§é†«ç™‚ã€çš„è¬›åº§ï¼Œå° AI å¦‚ä½•æ‡‰ç”¨æ–¼ç–¾ç—…è¨ºæ–·å¾ˆæœ‰èˆˆè¶£ï¼Œæƒ³å¯«ä¸€ç¯‡å¿ƒå¾—..."></textarea>
                    <button id="generate-portfolio-aid" class="mt-4 bg-sky-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-sky-700 transition-colors duration-300 shadow-md focus:outline-none">
                        âœ¨ ç²å¾—å¯«ä½œå»ºè­°
                    </button>
                    <div id="portfolio-aid-output" class="llm-output hidden"></div>
                    <div id="portfolio-aid-loading" class="hidden mt-4 text-center">
                        <div class="loading-spinner"></div>
                        <p class="text-sky-700 mt-2">AI æ­£åœ¨ç‚ºä½ ç”Ÿæˆå»ºè­°ä¸­...</p>
                    </div>
                    <p class="mt-4 text-sm text-stone-600 text-center italic no-print">
                        ğŸ’¡ åœ¨æ­¤ç™¼æƒ³æˆ–ç²å¾—å»ºè­°æ™‚ï¼ŒåŒæ­¥åœ¨ç´™æœ¬ä¸Šå‹¾å‹’å¤§ç¶±æˆ–å¯«ä¸‹é—œéµå­—ï¼Œæœ‰åŠ©æ–¼ç†æ¸…æ€ç·’ï¼
                    </p>
                </div>

                <div class="p-4 bg-sky-100 rounded-lg border border-sky-300">
                    <h3 class="text-xl font-semibold text-sky-800 mb-3">âœ¨ å°ˆé¡Œç ”ç©¶é»å­ç™¼æƒ³å™¨ âœ¨</h3>
                    <p class="text-stone-700 mb-4">
                        è¼¸å…¥ä½ æ„Ÿèˆˆè¶£çš„å¯¬æ³›ä¸»é¡Œï¼ˆä¾‹å¦‚ï¼šAI æ‡‰ç”¨ã€ç’°å¢ƒä¿è­·ã€ç”Ÿç‰©é†«å­¸ï¼‰ï¼Œè®“ AI ç‚ºä½ ç™¼æƒ³å°ˆé¡Œç ”ç©¶é»å­ï¼
                    </p>
                    <textarea id="project-idea-input" class="w-full p-3 border border-stone-300 rounded-md focus:ring-2 focus:ring-sky-500 focus:border-transparent resize-y min-h-[100px] text-stone-800" placeholder="ä¾‹å¦‚ï¼šæˆ‘æƒ³ç ”ç©¶å¦‚ä½•ç”¨ç§‘æŠ€æ”¹å–„ç”Ÿæ´»å“è³ª"></textarea>
                    <button id="generate-project-ideas" class="mt-4 bg-sky-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-sky-700 transition-colors duration-300 shadow-md focus:outline-none">
                        âœ¨ ç™¼æƒ³å°ˆæ¡ˆé»å­
                    </button>
                    <div id="project-idea-output" class="llm-output hidden"></div>
                    <div id="project-idea-loading" class="hidden mt-4 text-center">
                        <div class="loading-spinner"></div>
                        <p class="text-sky-700 mt-2">AI æ­£åœ¨ç‚ºä½ ç™¼æƒ³ä¸­...</p>
                    </div>
                    <p class="mt-4 text-sm text-stone-600 text-center italic no-print">
                        ğŸ’¡ å°‡ç™¼æƒ³çš„é»å­å¯«åœ¨ç´™æœ¬ä¸Šï¼Œå¯ä»¥å¹«åŠ©ä½ ç•«å‡ºå¿ƒæ™ºåœ–æˆ–é€²è¡Œæ›´è©³ç´°çš„è¦åŠƒï¼
                    </p>
                </div>
            </div>
             <p class="text-center mt-8 text-lg font-semibold text-sky-700">
                è«‹è¨˜ä½ï¼Œæœ€é‡è¦çš„ä¸æ˜¯ä½ åƒåŠ äº†å¤šå°‘æ´»å‹•ï¼Œè€Œæ˜¯ä½ å¾ä¸­ç²å¾—äº†ä»€éº¼å•Ÿç™¼ï¼Œä»¥åŠå¦‚ä½•å°‡é€™äº›å•Ÿç™¼è½‰åŒ–ç‚ºè‡ªèº«çš„æˆé•·èˆ‡èƒ½åŠ›ã€‚
            </p>
            <p class="text-center mt-2 text-lg font-semibold text-sky-700">
                ç¥ä½ å­¸ç¿’é †åˆ©ï¼Œæ”¶ç©«æ»¿æ»¿ï¼Œæ‰“é€ ä¸€ä»½å°ˆå±¬æ–¼ä½ çš„ç²¾å½©å­¸ç¿’æ­·ç¨‹æª”æ¡ˆï¼ğŸ“
            </p>
        </section>
    </main>

    <footer class="bg-stone-800 text-stone-300 py-8 mt-12 no-print">
        <div class="container mx-auto px-4 text-center">
            <p>Â© <span id="currentYear"></span> ç§‘å­¸è¬›åº§èˆ‡å­¸ç¿’æ­·ç¨‹æª”æ¡ˆè£½ä½œæŒ‡å—. All Rights Reserved.</p>
            <p class="text-sm mt-1">ç‚ºå”åŠ©é«˜ä¸­ç”Ÿæ¢ç´¢å­¸ç¿’æ–¹å‘è€Œè¨­è¨ˆã€‚</p>
        </div>
    </footer>

    <script>
        // Data for lecture categories
        const lectureData = {
            ai: {
                title: "ğŸ¤– äººå·¥æ™ºæ…§èˆ‡æ•¸æ“šç§‘å­¸",
                groups: ["è³‡è¨Šå­¸ç¾¤ï¼ˆäººå·¥æ™ºæ…§ã€ç‰©è¯ç¶²ã€å¤§æ•¸æ“šï¼‰", "å·¥ç¨‹å­¸ç¾¤ï¼ˆæ™ºæ…§æ©Ÿæ¢°ã€è‡ªå‹•åŒ–æŠ€è¡“ï¼‰", "æ•¸ç†åŒ–å­¸ç¾¤ï¼ˆé‹ç®—æ¨¡å‹ã€æ•¸æ“šåˆ†æï¼‰"],
                audience: [
                    "å°<strong>äººå·¥æ™ºæ…§ã€ç‰©è¯ç¶²ã€å¤§æ•¸æ“š</strong>å……æ»¿å¥½å¥‡ï¼Œæƒ³æ¢ç´¢ AI åœ¨å„è¡Œå„æ¥­çš„æ‡‰ç”¨æ½›åŠ›ã€‚",
                    "æ¸´æœ›å­¸ç¿’<strong>æ©Ÿå™¨å­¸ç¿’èˆ‡æ•¸æ“šåˆ†æ</strong>ï¼Œäº†è§£æ•¸æ“šå¦‚ä½•åœ¨ç¶²è·¯ä¸–ç•Œä¸­ç™¼æ®å·¨å¤§å½±éŸ¿åŠ›ã€‚",
                    "å°<strong>æ™ºæ…§è¾²æ¥­ã€ç’°å¢ƒç§‘æŠ€</strong>æœ‰èˆˆè¶£ï¼Œæƒ³å°‡ AI æ‡‰ç”¨æ–¼ç”Ÿæ…‹ä¿è‚²èˆ‡èƒ½æºç®¡ç†é ˜åŸŸã€‚"
                ],
                videos: [
                    { name: "é¢å°å¿«é€Ÿ AI ç§‘æŠ€ï¼Œæˆ‘å€‘çš„æ©Ÿæœƒèˆ‡æŒ‘æˆ°", url: "https://www.youtube.com/watch?v=uT163d876Tw" },
                    { name: "å¦‚è™æ·»ç¿¼çš„è¬ç‰©äº’è¯", url: "https://knowledge.colife.org.tw/one_video/index.aspx?sid=11572" },
                    { name: "è¬ç‰©çš†é—œè¯ â€“ ç¶²è·¯ä¸–ç•Œä¸­çš„äººå·¥æ™ºæ…§", url: "https://www.youtube.com/watch?v=-0gERGiNpyI" },
                    { name: "ç”±äººå·¥æ™ºæ…§é€šå¾€æ¤ç‰©ç§‘å­¸æ‡‰ç”¨èˆ‡ä»¿ç”Ÿç§‘æŠ€", url: "https://www.youtube.com/watch?v=0AHboGccmCE" }
                ]
            },
            biomedical: {
                title: "ğŸ§¬ ç”Ÿç‰©é†«å­¸èˆ‡å¥åº·ç§‘å­¸",
                groups: ["ç”Ÿå‘½ç§‘å­¸å­¸ç¾¤ï¼ˆè…¸é“èŒã€å¾®ç”Ÿç‰©ã€åŸºå› å·¥ç¨‹ï¼‰", "é†«è—¥è¡›ç”Ÿå­¸ç¾¤ï¼ˆæ™ºæ…§é†«ç™‚ã€ç™Œç—‡æ²»ç™‚ã€å¥åº·ç®¡ç†ï¼‰", "ç”Ÿç‰©è³‡æºå­¸ç¾¤ï¼ˆé£Ÿå“ç§‘å­¸ã€ç‡Ÿé¤Šç§‘å­¸ï¼‰"],
                audience: [
                    "æƒ³æ¢ç´¢<strong>è…¸é“èŒã€å¾®ç”Ÿç‰©å­¸</strong>èˆ‡å¥åº·ç§‘å­¸çš„å¥§ç§˜ï¼Œæ€è€ƒå¾®ç”Ÿç‰©å¦‚ä½•å½±éŸ¿äººé«”å¥åº·ã€‚",
                    "å°<strong>æ™ºæ…§é†«ç™‚ã€ç™Œç—‡æ²»ç™‚</strong>æœ‰æ¿ƒåšèˆˆè¶£ï¼Œé—œæ³¨æœ€æ–°ç”Ÿé†«æŠ€è¡“èˆ‡å…ç–«ç™‚æ³•çš„ç™¼å±•ã€‚",
                    "æ¸´æœ›ç ”ç©¶<strong>å¤±æ™ºç—‡ã€é˜¿èŒ²æµ·é»˜ç—‡</strong>çš„ç”Ÿç†æ©Ÿåˆ¶èˆ‡é é˜²æ–¹æ³•ã€‚"
                ],
                videos: [
                    { name: "æ™ºæ…§é†«ç™‚ â€“ å°ç£ä¸‹ä¸€å€‹è­·åœ‹ç¥å±±", url: "https://www.youtube.com/watch?v=uT163d876Tw" },
                    { name: "æ½›è—åœ¨è…¸é“çš„é›™é¢è«œï¼šè…¸é“èŒç‰¹å·¥", url: "https://www.youtube.com/watch?v=iMj188mJ_PA" },
                    { name: "é›»æ¼¿é†«ç™‚ â€“ ä¿ƒé€²è‡ªæˆ‘å‚·å£ç™’åˆ", url: "https://www.youtube.com/watch?v=ldZ00cE8tUo" },
                    { name: "è‚ç‚äººç”Ÿå¯ä»¥ä¸å†ã€Œé»‘ç™½ã€", url: "https://www.youtube.com/watch?v=NtXK-HNvPm0" },
                    { name: "è«‡ç™Œç—‡", url: "https://www.youtube.com/watch?v=goix6uXkDwM" },
                    { name: "ç§»å‹•ä¸­çš„å¤§è…¦ â€“ å¤§è…¦å°èˆªèˆ‡é˜¿èŒ²æµ·é»˜ç—‡", url: "https://www.youtube.com/watch?v=0NDgbT269PQ" }
                ]
            },
            engineering: {
                title: "ğŸ› ï¸ å·¥ç¨‹èˆ‡ææ–™ç§‘å­¸",
                groups: ["å·¥ç¨‹å­¸ç¾¤ï¼ˆæ©Ÿæ¢°å·¥ç¨‹ã€ææ–™ç§‘å­¸ã€ä»¿ç”ŸæŠ€è¡“ï¼‰", "å»ºç¯‰èˆ‡è¨­è¨ˆå­¸ç¾¤ï¼ˆæ©Ÿæ§‹è¨­è¨ˆã€éŸ³æ¨‚å·¥ç¨‹ï¼‰", "åœ°çƒèˆ‡ç’°å¢ƒå­¸ç¾¤ï¼ˆèƒ½æºææ–™ã€ç’°å¢ƒç§‘æŠ€ï¼‰"],
                audience: [
                    "æƒ³äº†è§£<strong>æ©Ÿæ¢°å·¥ç¨‹ã€ä»¿ç”Ÿè¨­è¨ˆ</strong>ï¼Œæ¢ç´¢æ©Ÿå™¨äººæŠ€è¡“å¦‚ä½•æ¨¡æ“¬ç”Ÿç‰©é‹å‹•ã€‚",
                    "å°<strong>èƒ½æºææ–™ã€ç’°å¢ƒå·¥ç¨‹</strong>æœ‰èˆˆè¶£ï¼Œç ”ç©¶æ–°å‹ææ–™åœ¨èˆªç©ºèˆ‡ç”Ÿé†«é ˜åŸŸçš„æ‡‰ç”¨ã€‚",
                    "å°<strong>è²å­¸èˆ‡æŒ¯å‹•ç‰©ç†å­¸</strong>æ„Ÿèˆˆè¶£ï¼Œç ”ç©¶å¦‚ä½•é€éç§‘å­¸æ”¹å–„æ¨‚å™¨è£½ä½œã€‚"
                ],
                videos: [
                    { name: "éˆ¦åˆé‡‘åœ¨å…ˆé€²ä»¿ç”Ÿææ–™ä¸Šçš„æ‡‰ç”¨", url: "https://www.youtube.com/watch?v=ldZ00cE8tUo" },
                    { name: "ä»¿ç”Ÿèˆ‡å·¥ç¨‹ â€“ ä»¥è¶³å¼æ©Ÿå™¨äººç‚ºä¾‹", url: "https://www.youtube.com/watch?v=SP91YZjPvZM" },
                    { name: "å°æç´èˆ‡å¼“çš„è²å­¸ã€åŠ›å­¸èˆ‡æŒ¯å‹•ç‰©ç†å­¸", url: "https://www.youtube.com/watch?v=N0zOZKZ5wl4" }
                ]
            }
        };

        // Tab navigation
        let tabs = []; // Will be populated in initializePageElements

        // Lecture category selection
        let categoryButtons; // Will be populated in initializePageElements
        let lectureDetailsContainer; // Will be populated in initializePageElements

        // Portfolio Aid Generation elements
        let portfolioInput;
        let generatePortfolioAidBtn;
        let portfolioAidOutput;
        let portfolioAidLoading;

        // Project Idea Brainstormer elements
        let projectIdeaInput;
        let generateProjectIdeasBtn;
        let projectIdeaOutput;
        let projectIdeaLoading;

        function displayLectureCategory(categoryKey) {
            const data = lectureData[categoryKey];
            if (!data) {
                lectureDetailsContainer.innerHTML = '<p class="text-center text-stone-500">è«‹é¸æ“‡ä¸€å€‹è¬›åº§é¡åˆ¥ã€‚</p>';
                return;
            }

            let html = `<h3 class="text-xl font-bold text-sky-700 mb-4">${data.title}</h3>`;
            
            html += '<div class="mb-4">';
            html += '<h4 class="font-semibold text-stone-700 mb-1">é©åˆå­¸ç¾¤ï¼š</h4>';
            html += '<ul class="list-disc list-inside text-stone-600 space-y-1">';
            data.groups.forEach(group => html += `<li>${group}</li>`);
            html += '</ul></div>';

            html += '<div class="mb-4">';
            html += '<h4 class="font-semibold text-stone-700 mb-1">é©åˆé€™æ¨£çš„ä½ ï¼š</h4>';
            html += '<ul class="list-disc list-inside text-stone-600 space-y-1">';
            data.audience.forEach(point => html += `<li>${point}</li>`);
            html += '</ul></div>';

            html += '<div>';
            html += '<h4 class="font-semibold text-stone-700 mb-2">æ¨è–¦è¬›åº§å½±ç‰‡ (é»æ“Šè§€çœ‹)ï¼š</h4>';
            html += '<ul class="space-y-2">';
            data.videos.forEach((video, index) => {
                html += `<li class="flex flex-col sm:flex-row sm:items-center sm:justify-between p-2 border-b border-stone-200 last:border-b-0">
                            <a href="${video.url}" target="_blank" rel="noopener noreferrer" class="video-link hover:text-sky-500 transition-colors duration-200 mb-2 sm:mb-0">${video.name} <span class="text-xs">ğŸ”—</span></a>
                            <div class="flex flex-wrap gap-2 no-print">
                                <button data-video-index="${index}" data-category-key="${categoryKey}" class="summarize-btn bg-sky-500 text-white px-4 py-1 rounded-md text-sm hover:bg-sky-600 transition-colors duration-300 shadow-sm">
                                    âœ¨ æ‘˜è¦è¬›åº§å…§å®¹
                                </button>
                                <button data-video-index="${index}" data-category-key="${categoryKey}" class="quiz-btn bg-emerald-500 text-white px-4 py-1 rounded-md text-sm hover:bg-emerald-600 transition-colors duration-300 shadow-sm">
                                    âœ¨ çŸ¥è­˜æ¸¬é©—
                                </button>
                            </div>
                            <div id="summary-output-${categoryKey}-${index}" class="llm-output hidden w-full"></div>
                            <div id="summary-loading-${categoryKey}-${index}" class="hidden mt-2 text-center w-full">
                                <div class="loading-spinner"></div>
                                <p class="text-sky-700 mt-1 text-sm">AI æ­£åœ¨ç‚ºä½ ç”Ÿæˆæ‘˜è¦ä¸­...</p>
                            </div>
                            <div id="quiz-output-${categoryKey}-${index}" class="llm-output hidden w-full"></div>
                            <div id="quiz-loading-${categoryKey}-${index}" class="hidden mt-2 text-center w-full">
                                <div class="loading-spinner"></div>
                                <p class="text-sky-700 mt-1 text-sm">AI æ­£åœ¨ç‚ºä½ ç”Ÿæˆæ¸¬é©—ä¸­...</p>
                            </div>
                        </li>`;
            });
            html += '</ul></div>';

            lectureDetailsContainer.innerHTML = html;
            addSummarizeButtonListeners(); // Add listeners for new buttons
            addQuizButtonListeners(); // Add listeners for new quiz buttons
        }

        async function callGeminiAPI(prompt, outputDiv, loadingDiv) {
            outputDiv.classList.add('hidden');
            loadingDiv.classList.remove('hidden');
            outputDiv.innerHTML = '';

            try {
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = "AIzaSyADPp0cxdEB3RbPn0N8QlD3WqFUdCUrDd0"; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    outputDiv.innerHTML = text;
                    outputDiv.classList.remove('hidden');
                } else {
                    outputDiv.innerHTML = '<p class="text-red-500">ç„¡æ³•ç”Ÿæˆå…§å®¹ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚</p>';
                    outputDiv.classList.remove('hidden');
                }
            } catch (error) {
                console.error('Error fetching from Gemini API:', error);
                outputDiv.innerHTML = '<p class="text-red-500">ç”Ÿæˆå…§å®¹æ™‚ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£ç·šæˆ–ç¨å¾Œå†è©¦ã€‚</p>';
                outputDiv.classList.remove('hidden');
            } finally {
                loadingDiv.classList.add('hidden');
            }
        }

        function addSummarizeButtonListeners() {
            document.querySelectorAll('.summarize-btn').forEach(button => {
                button.addEventListener('click', async (event) => {
                    const categoryKey = event.target.dataset.categoryKey;
                    const videoIndex = event.target.dataset.videoIndex;
                    const videoName = lectureData[categoryKey].videos[videoIndex].name;
                    const outputDiv = document.getElementById(`summary-output-${categoryKey}-${videoIndex}`);
                    const loadingDiv = document.getElementById(`summary-loading-${categoryKey}-${videoIndex}`);
                    const prompt = `è«‹ç‚ºä»¥ä¸‹è¬›åº§å…§å®¹æä¾›ä¸€å€‹ç°¡æ½”çš„æ‘˜è¦æˆ–é—œéµå­—ï¼Œç´„50-80å­—ï¼š"${videoName}"`;
                    await callGeminiAPI(prompt, outputDiv, loadingDiv);
                });
            });
        }

        function addQuizButtonListeners() {
            document.querySelectorAll('.quiz-btn').forEach(button => {
                button.addEventListener('click', async (event) => {
                    const categoryKey = event.target.dataset.categoryKey;
                    const videoIndex = event.target.dataset.videoIndex;
                    const videoName = lectureData[categoryKey].videos[videoIndex].name;
                    const outputDiv = document.getElementById(`quiz-output-${categoryKey}-${videoIndex}`);
                    const loadingDiv = document.getElementById(`quiz-loading-${categoryKey}-${videoIndex}`);
                    const prompt = `è«‹æ ¹æ“šä»¥ä¸‹è¬›åº§æ¨™é¡Œï¼Œç‚ºé«˜ä¸­ç”Ÿè¨­è¨ˆ3å€‹ç°¡çŸ­çš„çŸ¥è­˜æ¸¬é©—å•é¡Œï¼ˆå¯ä»¥æ˜¯é¸æ“‡é¡Œæˆ–ç°¡ç­”é¡Œï¼‰ï¼Œä»¥æª¢æ¸¬ä»–å€‘å°è©²è¬›åº§ä¸»é¡Œçš„ç†è§£ï¼š\n\n"${videoName}"`;
                    await callGeminiAPI(prompt, outputDiv, loadingDiv);
                });
            });
        }

        // Print functionality
        function printSection(sectionId) {
            const printContents = document.getElementById(sectionId).innerHTML;
            const originalContents = document.body.innerHTML;

            document.body.innerHTML = printContents;
            window.print();
            document.body.innerHTML = originalContents;
            // Re-initialize event listeners and display after print
            initializePageElements();
        }

        // Function to re-initialize all necessary elements after print
        function initializePageElements() {
            // Re-select DOM elements after innerHTML replacement
            tabs = [
                { id: 'home', button: document.getElementById('tab-home'), content: document.getElementById('content-home') },
                { id: 'explore', button: document.getElementById('tab-explore'), content: document.getElementById('content-explore') },
                { id: 'guide', button: document.getElementById('tab-guide'), content: document.getElementById('content-guide') }
            ];
            categoryButtons = document.querySelectorAll('#content-explore button[data-category]');
            lectureDetailsContainer = document.getElementById('lecture-details');

            portfolioInput = document.getElementById('portfolio-input');
            generatePortfolioAidBtn = document.getElementById('generate-portfolio-aid');
            portfolioAidOutput = document.getElementById('portfolio-aid-output');
            portfolioAidLoading = document.getElementById('portfolio-aid-loading');

            projectIdeaInput = document.getElementById('project-idea-input');
            generateProjectIdeasBtn = document.getElementById('generate-project-ideas');
            projectIdeaOutput = document.getElementById('project-idea-output');
            projectIdeaLoading = document.getElementById('project-idea-loading');


            // Re-attach tab listeners
            tabs.forEach(tabInfo => {
                tabInfo.button.addEventListener('click', () => {
                    tabs.forEach(t => {
                        t.content.classList.add('hidden');
                        t.button.classList.remove('tab-active');
                        t.button.classList.add('tab-inactive');
                    });
                    tabInfo.content.classList.remove('hidden');
                    tabInfo.button.classList.add('tab-active');
                    tabInfo.button.classList.remove('tab-inactive');
                    window.scrollTo({ top: tabInfo.button.offsetTop - 70, behavior: 'smooth' }); 
                });
            });

            // Re-attach category buttons and display initial category
            categoryButtons.forEach(button => {
                button.addEventListener('click', () => {
                    categoryButtons.forEach(btn => {
                        btn.classList.remove('category-button-active');
                        btn.classList.add('category-button-inactive');
                    });
                    button.classList.add('category-button-active');
                    button.classList.remove('category-button-inactive');
                    displayLectureCategory(button.dataset.category);
                });
            });

            // Re-attach LLM button listeners
            addSummarizeButtonListeners();
            addQuizButtonListeners();
            
            // Only attach if elements exist (they might not if tab is hidden)
            if (generatePortfolioAidBtn) {
                generatePortfolioAidBtn.addEventListener('click', async () => {
                    const inputText = portfolioInput.value.trim();
                    if (inputText === '') {
                        portfolioAidOutput.innerHTML = '<p class="text-red-500">è«‹è¼¸å…¥ä¸€äº›å…§å®¹ï¼Œæ‰èƒ½ç²å¾—å¯«ä½œå»ºè­°å–”ï¼</p>';
                        portfolioAidOutput.classList.remove('hidden');
                        return;
                    }
                    const prompt = `è«‹æ ¹æ“šä»¥ä¸‹å…§å®¹ï¼Œç‚ºé«˜ä¸­ç”Ÿæ’°å¯«å­¸ç¿’æ­·ç¨‹æª”æ¡ˆæä¾›å¯«ä½œå»ºè­°ã€å¤§ç¶±æ€è·¯æˆ–å•Ÿç™¼æ€§æ®µè½ã€‚è«‹ä»¥ç¹é«”ä¸­æ–‡å›æ‡‰ï¼Œä¸¦å¼·èª¿å¦‚ä½•å±•ç¾å€‹äººæ€è€ƒèˆ‡ç¨ç‰¹æ€§ï¼š\n\n"${inputText}"`;
                    await callGeminiAPI(prompt, portfolioAidOutput, portfolioAidLoading);
                });
            }

            if (generateProjectIdeasBtn) {
                generateProjectIdeasBtn.addEventListener('click', async () => {
                    const inputText = projectIdeaInput.value.trim();
                    if (inputText === '') {
                        projectIdeaOutput.innerHTML = '<p class="text-red-500">è«‹è¼¸å…¥ä¸€å€‹ä¸»é¡Œï¼Œæ‰èƒ½ç™¼æƒ³é»å­å–”ï¼</p>';
                        projectIdeaOutput.classList.remove('hidden');
                        return;
                    }
                    const prompt = `è«‹æ ¹æ“šä»¥ä¸‹ä¸»é¡Œï¼Œç‚ºé«˜ä¸­ç”Ÿæä¾›3-5å€‹é©åˆå­¸ç¿’æ­·ç¨‹æª”æ¡ˆçš„å°ˆé¡Œç ”ç©¶æˆ–å¯¦ä½œå°ˆæ¡ˆé»å­ã€‚è«‹å¼·èª¿é€™äº›é»å­å¦‚ä½•å±•ç¾ç¨ç‰¹æ€§å’Œè·¨é ˜åŸŸæ€è€ƒï¼š\n\n"${inputText}"`;
                    await callGeminiAPI(prompt, projectIdeaOutput, projectIdeaLoading);
                });
            }

            // Ensure current active tab is shown
            const currentActiveTabButton = document.querySelector('.tab-active');
            if (currentActiveTabButton) {
                const activeTabId = currentActiveTabButton.id.replace('tab-', 'content-');
                document.getElementById(activeTabId).classList.remove('hidden');
            } else {
                // Default to home if no active tab found (e.g., after initial load before any click)
                document.getElementById('content-home').classList.remove('hidden');
                document.getElementById('tab-home').classList.add('tab-active');
                document.getElementById('tab-home').classList.remove('tab-inactive');
            }
        }

        // Set current year in footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // Initial page load setup
        window.onload = function() {
            initializePageElements();
            displayLectureCategory('ai'); // Pre-load first category in explore tab
        };
    </script>
</body>
</html>